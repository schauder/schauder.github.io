---
layout: post
status: publish
published: true
title: Spinnen die bei Oracle? Virtuelle Spalten bei Oracle
author:
  display_name: Jens Schauder
  login: admin
  email: jens@schauderhaft.de
  url: http://blog.schauderhaft.de
author_login: admin
author_email: jens@schauderhaft.de
author_url: http://blog.schauderhaft.de
wordpress_id: 43
wordpress_url: http://blog.schauderhaft.de/2008/04/14/spinnen-die-bei-oracle-virtuelle-spalten-bei-oracle/
date: '2008-04-14 21:34:55 +0200'
date_gmt: '2008-04-14 20:34:55 +0200'
categories:
- Oracle
tags: []
comments: []
---
<p>Letzt lag mal wieder das <a href="http:&#47;&#47;www.oracle.com&#47;oramag&#47;index.html">Oraclemagazin<&#47;a> auf dem Tisch. Wer es nicht kennt: Ihr verpasst nicht viel. etwa 30% sind offiziell Werbung, 30% sind inoffizielle Werbung, d.h. Erfolgsstories von Firmen, 15% sind blah, blah (Leserbriefe und Kindheitsgeschichten von Oracle Mitarbeiter).</p>
<p>Die verbleibenden 15% brachten mein Blut zum wallen: Es gibt ein neues Oracle Feature: virtuelle Spalten. An sich ein wirklich n&Atilde;&frac14;tzliches Feature. Eine Spalte in einer Tabelle wird als Funktion definiert. Sie enth&Atilde;&curren;lt keine eigenen Daten, sondern die Daten werden bei Bedarf berechnet. Im Gegensatz zu Function Based Indizes wird also praktisch kein zus&Atilde;&curren;tzlicher Speicher verbraucht. Oracle kann aber dennoch Statistiken sammeln, und so dem Optimizer wichtige Informationen liefern. Also, warum rege ich mich dar&Atilde;&frac14;ber auf? Wegen der Syntax! Quizfrage: Wof&Atilde;&frac14;r steht AS in SQL? &Atilde;&oelig;ber AS werden Aliase definiert: Spalten, Tabellen, oder ganze Ausdr&Atilde;&frac14;cke. Links steht der urspr&Atilde;&frac14;ngliche Ausdruck, rechts der neue Name daf&Atilde;&frac14;r. Cool, das ist ja wie geschaffen f&Atilde;&frac14;r virtuelle Spalten! Stimmt. Das hat sich Oracle auch gedacht und einem Praktikanten gesagt: Hei mach mal virtuelle Spalten und benutze AS um den Namen daf&Atilde;&frac14;r zu definieren. Der konnte blo&Atilde;&Yuml; noch kein SQL und hat es ordentlich versaut.</p>
<p>Die Syntax f&Atilde;&frac14;r eine virtuelle Spalte sieht so aus:</p>
<p>create table (x number,y as (x+1);</p>
<p>Hallooooo, warum steht der Name des Aliases auf einmal links?</p>
<p>Na, ich sollte mich wohl nicht so aufregen. Oracle demonstriert ja bei allem was bei normalerweise mit API Design zu tun hat Inkompetenz. Man betrachte nur das wunderbar einheitliche Benennung von Funktionen:</p>
<ul>
<li>Es hei&Atilde;&Yuml;t ADD_MONTH (mit _) aber LOCALTIMESTAMP (ohne _)<&#47;li>
<li>Welche Funktion liefert einen Timstamp with Timezone, welche einen Timestamp ohne jegliche Ortsinformation: LOCALTIMESTAMP oder TIMESTAMP? Antwort: TIMESTAMP liefert die Zeitzonen Information mit, warum LOCALTIMESTAMP local im Namen f&Atilde;&frac14;hrt wird wohl ein Geheimnis bleiben.<&#47;li>
<li>NEXT_DAY liefert das n&Atilde;&curren;chste Datum, an dem wir wieder einen bestimmten Wochentag haben. Der gesuchte Wochentag muss als TEXT angegeben werden.<&#47;li><br />
<&#47;ul><br />
Die ganze API ist voll mit solchen Kr&Atilde;&frac14;cken, und mit PLSQL will ich gar nicht erst anfangen. Ich bin wirklich beeindruckt von der Leistungsf&Atilde;&curren;higkeit von Oracle. Hut ab vor allen Programmieren, die am Datenbankkern arbeiten. Aber den Rest ...</p>
