---
layout: default
status: publish
published: true
title: Spinnen die bei Oracle? Virtuelle Spalten bei Oracle
author:
  display_name: Jens Schauder
  login: admin
  email: jens@schauderhaft.de
  url: http://blog.schauderhaft.de
author_login: admin
author_email: jens@schauderhaft.de
author_url: http://blog.schauderhaft.de
wordpress_id: 43
wordpress_url: http://blog.schauderhaft.de/2008/04/14/spinnen-die-bei-oracle-virtuelle-spalten-bei-oracle/
date: '2008-04-14 21:34:55 +0200'
date_gmt: '2008-04-14 20:34:55 +0200'
categories:
- article
- Oracle
tags: []
comments: []
---
<p>Letzt lag mal wieder das <a href="http://www.oracle.com/oramag/index.html">Oraclemagazin</a> auf dem Tisch. Wer es nicht kennt: Ihr verpasst nicht viel. etwa 30% sind offiziell Werbung, 30% sind inoffizielle Werbung, d.h. Erfolgsstories von Firmen, 15% sind blah, blah (Leserbriefe und Kindheitsgeschichten von Oracle Mitarbeiter).</p>
<p>Die verbleibenden 15% brachten mein Blut zum wallen: Es gibt ein neues Oracle Feature: virtuelle Spalten. An sich ein wirklich nützliches Feature. Eine Spalte in einer Tabelle wird als Funktion definiert. Sie enthält keine eigenen Daten, sondern die Daten werden bei Bedarf berechnet. Im Gegensatz zu Function Based Indizes wird also praktisch kein zusätzlicher Speicher verbraucht. Oracle kann aber dennoch Statistiken sammeln, und so dem Optimizer wichtige Informationen liefern. Also, warum rege ich mich darüber auf? Wegen der Syntax! Quizfrage: Wofür steht AS in SQL? &Atilde;&oelig;ber AS werden Aliase definiert: Spalten, Tabellen, oder ganze Ausdrücke. Links steht der ursprüngliche Ausdruck, rechts der neue Name dafür. Cool, das ist ja wie geschaffen für virtuelle Spalten! Stimmt. Das hat sich Oracle auch gedacht und einem Praktikanten gesagt: Hei mach mal virtuelle Spalten und benutze AS um den Namen dafür zu definieren. Der konnte bloß noch kein SQL und hat es ordentlich versaut.</p>
<p>Die Syntax für eine virtuelle Spalte sieht so aus:</p>
<p>create table (x number,y as (x+1);</p>
<p>Hallooooo, warum steht der Name des Aliases auf einmal links?</p>
<p>Na, ich sollte mich wohl nicht so aufregen. Oracle demonstriert ja bei allem was bei normalerweise mit API Design zu tun hat Inkompetenz. Man betrachte nur das wunderbar einheitliche Benennung von Funktionen:</p>
<ul>
<li>Es heißt ADD_MONTH (mit _) aber LOCALTIMESTAMP (ohne _)</li>
<li>Welche Funktion liefert einen Timstamp with Timezone, welche einen Timestamp ohne jegliche Ortsinformation: LOCALTIMESTAMP oder TIMESTAMP? Antwort: TIMESTAMP liefert die Zeitzonen Information mit, warum LOCALTIMESTAMP local im Namen führt wird wohl ein Geheimnis bleiben.</li>
<li>NEXT_DAY liefert das nächste Datum, an dem wir wieder einen bestimmten Wochentag haben. Der gesuchte Wochentag muss als TEXT angegeben werden.</li><br />
</ul><br />
Die ganze API ist voll mit solchen Krücken, und mit PLSQL will ich gar nicht erst anfangen. Ich bin wirklich beeindruckt von der Leistungsfähigkeit von Oracle. Hut ab vor allen Programmieren, die am Datenbankkern arbeiten. Aber den Rest ...</p>
