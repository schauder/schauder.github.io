---
layout: default
status: publish
published: true
title: 'New Feature of JUnit: Theories'
author:
  display_name: Jens Schauder
  login: admin
  email: jens@schauderhaft.de
  url: http://blog.schauderhaft.de
author_login: admin
author_email: jens@schauderhaft.de
author_url: http://blog.schauderhaft.de
wordpress_id: 399
wordpress_url: http://blog.schauderhaft.de/?p=399
date: '2010-01-31 22:14:25 +0100'
date_gmt: '2010-01-31 20:14:25 +0100'
categories:
- article
- Softwaredevelopment
tags:
- testing
- junit
- theory
comments:
- id: 362
  author: Ben Northrop
  author_email: ben@summa-tech.com
  author_url: http://www.bennorthrop.com
  date: '2010-02-01 22:07:58 +0100'
  date_gmt: '2010-02-01 20:07:58 +0100'
  content: Very cool feature - I hope this makes it to their core soon.  Thanks for
    the post.
- id: 364
  author: 'Tweets die Schauderhaft &Acirc;&raquo; New Feature of JUnit: Theories erwähnt
    -- Topsy.com'
  author_email: ''
  author_url: http://topsy.com/tb/bit.ly/9F25JH
  date: '2010-02-03 02:42:16 +0100'
  date_gmt: '2010-02-03 00:42:16 +0100'
  content: '[...] Dieser Eintrag wurde auf Twitter von Richard Laksana, Jens Schauder,
    seanparsons, Peter Backx, pembleton und anderen erwähnt. pembleton
    sagte: Reading "New Feature of JUnit: Theories" http://bit.ly/9F25JH
    by @jensschauder [...]'
- id: 384
  author: Outrospective.org &raquo; Blog Archive &raquo; Junit&#8217;s Theory&#8217;s
    as interprested by Schauderhaft and Groovy
  author_email: ''
  author_url: http://outrospective.org/wordpress/?p=283
  date: '2010-02-18 09:19:04 +0100'
  date_gmt: '2010-02-18 07:19:04 +0100'
  content: "[...] blog provides a great summary of what theories are and how to write
    a parameter supplier to supply a series of datapoints in Java. The annotation
    [...]"
- id: 418
  author: Reading List for March 2010 &laquo; Coder For Christ
  author_email: ''
  author_url: http://coderforchrist.wordpress.com/2010/03/30/reading-list-for-marc-2010-2/
  date: '2010-03-30 13:44:15 +0200'
  date_gmt: '2010-03-30 11:44:15 +0200'
  content: "[...] New Feature of JUnit: Theories &#8211; this looks very interesting
    [...]"
- id: 3451
  author: Haiko-Christopher
  author_email: me@haiko-christopher.de
  author_url: http://www.haiko-christopher.de
  date: '2011-05-10 14:00:17 +0200'
  date_gmt: '2011-05-10 12:00:17 +0200'
  content: "Thank you for this short and simple explanation.\r\nWith an example coding
    sometimes is a piece of cake.\r\n\r\nHaiko."
- id: 4220
  author: JUnit parameterized test with Spring autowiring AND transactions
  author_email: ''
  author_url: http://www.javathinking.com/2011/09/junit-parameterized-test-with-spring-autowiring-and-transactions/
  date: '2011-09-08 04:29:42 +0200'
  date_gmt: '2011-09-08 02:29:42 +0200'
  content: "[...] been writing JUnit Parameterized tests&Acirc;&nbsp;(a nice intro
    here &#8211; also see Theories) to do some data driven API testing. Now, when
    introducing Spring into the mix there are a couple [...]"
- id: 8162
  author: "(Unit) Testing Swiss Knife: All the Tools You Wanted to Know &laquo; The
    Holy Java"
  author_email: ''
  author_url: http://theholyjava.wordpress.com/2012/09/09/unit-testing-swiss-knife-all-the-tools-you-wanted-to-know/
  date: '2012-09-09 22:28:25 +0200'
  date_gmt: '2012-09-09 20:28:25 +0200'
  content: "[...] Schauder wrote an example test where each test method (theory) is
    executed for all possible 2-element combinations of .... Jacob Childress uses
    theories as an alternative to Parametrized by using only a single parameter [...]"
- id: 9056
  author: Dominik Mo&Aring;&iexcl;t&Auml;&rsaquo;k &#8211; Blog &raquo; Archive &raquo;
    JUnit Theories
  author_email: ''
  author_url: http://www.dominik-mostek.cz/blog/junit-theories/
  date: '2013-01-02 00:56:49 +0100'
  date_gmt: '2013-01-01 22:56:49 +0100'
  content: "[...] http://blog.schauderhaft.de/2010/01/31/new-feature-of-junit-theories/
    [...]"
- id: 9118
  author: JUnit and Other Beasts, Part 4 | Softwire | Exceptional Bespoke Software
    Solutions and Consultancy
  author_email: ''
  author_url: http://www.softwire.com/blog/2012/06/22/junit-and-other-beasts-part-4/
  date: '2013-01-08 14:26:37 +0100'
  date_gmt: '2013-01-08 12:26:37 +0100'
  content: "[...] articles exploring the basics: Mark Needham, Locke&#8217;s Socks,
    Schauderhaft, ig blog, Chris Kelly. Note that these articles don&#8217;t tend
    to follow the &#8216;test inverse [...]"
- id: 9378
  author: Jeff Conrad
  author_email: ledlogic@gmail.com
  author_url: ''
  date: '2013-02-07 19:26:20 +0100'
  date_gmt: '2013-02-07 17:26:20 +0100'
  content: Any chance the junit.org links are hosted anywhere other than github?
- id: 9379
  author: Jens Schauder
  author_email: jens@schauderhaft.de
  author_url: http://blog.schauderhaft.de
  date: '2013-02-07 20:50:11 +0100'
  date_gmt: '2013-02-07 18:50:11 +0100'
  content: |-
    Hi Jeff,
    not sure what your intention is.

    JUnit is open source and I guess you can take the source code and host it anywhere you want.

    Or are any links pointing into the void? This might be because the JUnit repository was migrated from Kent Becks user to the JUnit organization: https://github.com/junit-team/junit
- id: 9974
  author: Jay
  author_email: jayrstubbs@yahoo.com
  author_url: ''
  date: '2013-05-08 18:40:10 +0200'
  date_gmt: '2013-05-08 16:40:10 +0200'
  content: Am I missing something? Why isn't "a" run with "a"? "bb" is run with "bb"
    and "ccc" with "ccc", etc.
- id: 9975
  author: Jens Schauder
  author_email: jens@schauderhaft.de
  author_url: http://blog.schauderhaft.de
  date: '2013-05-08 19:00:56 +0200'
  date_gmt: '2013-05-08 17:00:56 +0200'
  content: |-
    Hi Jay,
    the line  assumeTrue(x.length() > 1); skips the test when x = a because it doesn't satisfy the condition.
- id: 297292
  author: JUnit Theories | Dominik&Aring;&macr;v Blog
  author_email: ''
  author_url: http://dominik-mostek.cz/junit-theories/
  date: '2014-10-09 16:52:09 +0200'
  date_gmt: '2014-10-09 14:52:09 +0200'
  content: "[&#8230;] http://blog.schauderhaft.de/2010/01/31/new-feature-of-junit-theories/
    [&#8230;]"
---
<p>A couple of months ago I blogged about <a href="/2009/10/04/junit-rules/">JUnit Rules</a>, one of the new features in JUnit. While fooling around with JUnit Rules, I found a couple more features that you might be interested in. So here it comes: Theories! It turns out Theories are really a piece of cake. Try this:</p>
<pre lang="java">import static org.junit.Assume.assumeTrue;<br />
import org.junit.experimental.theories.DataPoint;<br />
import org.junit.experimental.theories.Theories;<br />
import org.junit.experimental.theories.Theory;<br />
import org.junit.runner.RunWith;</p>
<p>@RunWith(Theories.class)<br />
public class TheorieTest {</p>
<p>	@DataPoint<br />
	public static String a = "a";</p>
<p>	@DataPoint<br />
	public static String b = "bb";</p>
<p>	@DataPoint<br />
	public static String c = "ccc";</p>
<p>	@Theory<br />
	public void stringTest(String x, String y) {<br />
		assumeTrue(x.length() > 1);</p>
<p>		System.out.println(x + " " + y);<br />
	}<br />
}</pre><br />
When you run this you'll get this as an output (and one successfull test):</p>
<pre>bb a<br />
bb bb<br />
bb ccc<br />
ccc a<br />
ccc bb<br />
ccc ccc</pre><br />
So what is going on? The first thing to note is that this test is executed by a specialized runner of type Theories. This runner executes all the public methods annotated with @Theory. Differently from normal tests theories have parameters. In order to fill these parameters with values, the Theories runner uses all the public fields of matching Type and annotated with @DataPoint. When you take a look at the output, it should be obvious why this is more powerful then <a href="http://ourcraft.wordpress.com/2008/08/27/writing-a-parameterized-junit-test/">parameterized Tests</a>: Every combination of values is tried, thus with e.g. 4 parameters with 4 distinct values each, you end up with 256 test runs.</p>
<p>The idea is to specify a theory about the object under test, that holds for a large class of states and parameters.&Acirc;&nbsp; Then you provide those as parameters to the test method which will test the theory.</p>
<p>A probably very common case is that a theory is known not to be valid for certain cases. You can exclude these from a test using the Assume class. If an assumption doesn't hold, the test is silently ignored. This is used in the example above to prevent 'a' to be used as a first parameter.</p>
<p>There are some more tweaks to Theories in JUnit, which I will cover in a later blog. Until then enjoy the new feature. But keep in mind the package in which theories reside up to now: <tt>org.junit.<strong>experimental</strong>.theories </tt> so I'd expect some changes in the API and at least a change in package name.</p>
