---
layout: default
status: publish
published: true
title: Shu Ha Ri and Code Metrics
author:
  display_name: Jens Schauder
  login: admin
  email: jens@schauderhaft.de
  url: http://blog.schauderhaft.de
author_login: admin
author_email: jens@schauderhaft.de
author_url: http://blog.schauderhaft.de
wordpress_id: 1303
wordpress_url: http://blog.schauderhaft.de/?p=1303
date: '2013-02-17 13:37:56 +0100'
date_gmt: '2013-02-17 11:37:56 +0100'
categories:
- article
- Quality Management
tags:
- code metrics
- Shuhari
- masterhip
- code quality
comments:
- id: 9414
  author: Geek Reading February 18, 2013 | Regular Geek
  author_email: ''
  author_url: http://regulargeek.com/2013/02/18/geek-reading-february-18-2013/
  date: '2013-02-18 20:01:05 +0100'
  date_gmt: '2013-02-18 18:01:05 +0100'
  content: "[...] Shu Ha Ri and Code Metrics (Schauderhaft) [...]"
- id: 9417
  author: Ken
  author_email: xnrat@kibachi.com
  author_url: ''
  date: '2013-02-19 12:05:20 +0100'
  date_gmt: '2013-02-19 10:05:20 +0100'
  content: This assumes that the initial rules are actually the right thing to do.
    They should be written by a master of the highest order, which in reality is probably
    not the case. Code metrics can be useful if applied sensibly. If people are forced
    to obey them blindly they lead to bad code.
---
<p>Code Metrics sure get mixed feelings by developers, especially when combined with thresholds to form checks that might make a CI build fail. Typical examples are:</p>
<blockquote><p>Line based code coverage &Acirc;&nbsp;must not fall below 80%.<&#47;blockquote></p>
<blockquote><p>A method must not be longer than 15 lines of code.<&#47;blockquote></p>
<p>Arguments against such rules state there are cases where such checks limit the freedom of a developer.<br />
During a discussion around these things it occurred to me that the metrics and checks come from a different skill level than the arguments against them.</p>
<p>Let me introduce <a href="http:&#47;&#47;en.wikipedia.org&#47;wiki&#47;Shuhari">Shuhari<&#47;a>: </p>
<p>Shuhari is a Japanese martial arts concept describing the stages of learning to mastery. </p>
<p>Shu describes the strict adherence to rules as one does when one begins to learn. This is where metrics live. They are strict rules. As a practitioner you just follow the rules without really thinking about them.</p>
<p>Ha describes the bending, changing and breaking of rules, as you might do when you are quite experienced.</p>
<p>Ri finally is described as transcendence, i.e. the rules don't really have a meaning to a master on this level. She just knows what to do.</p>
<p>I think one can easily see how metrics get in the way of a master at the higher levels. Right? But there is an interesting point in the short  Wikipedia article for Shuhari:</p>
<blockquote><p>Shuhari can be considered as concentric circles, with Shu within Ha, and both Shu and Ha within Ri. The fundamental techniques and knowledge do not change.<&#47;blockquote></p>
<p>For me this means: While a master can and will break rules at will, most of the time she won't because the rules align with what is the right thing to do (tm).</p>
<p>So if you think those code metrics are stupid and shouldn't apply to your code, you are welcome to prove to me that you are a Ri level master (I'm certainly not). A first indicator would be that you can follow those rules without them actually being enforced.</p>
<p>But if you are constantly breaking builds due to Checkstyle, PMD and Sonar violations, you are not demonstrating mastership but sloppy working.</p>
