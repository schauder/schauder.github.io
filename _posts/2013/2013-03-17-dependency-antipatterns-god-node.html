---
layout: default
status: publish
published: true
title: Dependency Antipatterns - God Node
author:
  display_name: Jens Schauder
  login: admin
  email: jens@schauderhaft.de
  url: http://blog.schauderhaft.de
author_login: admin
author_email: jens@schauderhaft.de
author_url: http://blog.schauderhaft.de
wordpress_id: 1326
wordpress_url: http://blog.schauderhaft.de/?p=1326
date: '2013-03-17 11:44:28 +0100'
date_gmt: '2013-03-17 09:44:28 +0100'
categories:
- article
- Softwaredevelopment
tags:
- pattern
- package
- dependencies
- anti pattern
- degraph
comments:
- id: 9570
  author: oop_conference
  author_email: twitter.97459028@example.com
  author_url: http://twitter.com/oop_conference
  date: '2013-03-17 11:48:03 +0100'
  date_gmt: '2013-03-17 09:48:03 +0100'
  content: 'Blog: Dependency Antipatterns &acirc;&euro;&ldquo; God Node: I wrote before
    about the dependency analysis and visua... http://t.co/nQpV55BIOc
    @jensschauder'
- id: 9572
  author: adietisheim
  author_email: twitter.25698588@example.com
  author_url: http://twitter.com/adietisheim
  date: '2013-03-17 12:33:39 +0100'
  date_gmt: '2013-03-17 10:33:39 +0100'
  content: 'RT @jensschauder: I blogged: Dependency Antipatterns - God Node http://t.co/OYnzssdPex'
- id: 9573
  author: myfear
  author_email: twitter.14206328@example.com
  author_url: http://twitter.com/myfear
  date: '2013-03-17 12:10:53 +0100'
  date_gmt: '2013-03-17 10:10:53 +0100'
  content: 'RT @jensschauder: I blogged: Dependency Antipatterns - God Node http://t.co/OYnzssdPex'
- id: 9574
  author: syendar
  author_email: twitter.83175870@example.com
  author_url: http://twitter.com/syendar
  date: '2013-03-17 14:25:14 +0100'
  date_gmt: '2013-03-17 12:25:14 +0100'
  content: "@jensschauder I really like degraph. Is it possible to show class  internal
    dependencies? Looks like dependency finder supports it"
- id: 9575
  author: robdiana
  author_email: twitter.14442748@example.com
  author_url: http://twitter.com/robdiana
  date: '2013-03-17 13:49:23 +0100'
  date_gmt: '2013-03-17 11:49:23 +0100'
  content: http://t.co/d7VLhGUrQU Dependency Antipatterns &acirc;&euro;&ldquo;
    God Node | Schauderhaft
- id: 9577
  author: santhosh_menon
  author_email: twitter.227652179@example.com
  author_url: http://twitter.com/santhosh_menon
  date: '2013-03-17 16:24:22 +0100'
  date_gmt: '2013-03-17 14:24:22 +0100'
  content: 'RT @jensschauder: I blogged: Dependency Antipatterns - God Node http://t.co/OYnzssdPex'
- id: 9578
  author: JRenGon
  author_email: twitter.40660739@example.com
  author_url: http://twitter.com/JRenGon
  date: '2013-03-17 14:43:12 +0100'
  date_gmt: '2013-03-17 12:43:12 +0100'
  content: 'RT @jensschauder: I blogged: Dependency Antipatterns - God Node http://t.co/OYnzssdPex'
- id: 9582
  author: nilesh_
  author_email: twitter.16584943@example.com
  author_url: http://twitter.com/nilesh_
  date: '2013-03-17 18:21:31 +0100'
  date_gmt: '2013-03-17 16:21:31 +0100'
  content: 'RT @jensschauder: I blogged: Dependency Antipatterns - God Node http://t.co/OYnzssdPex'
- id: 9583
  author: ediar
  author_email: twitter.15244758@example.com
  author_url: http://twitter.com/ediar
  date: '2013-03-17 17:35:29 +0100'
  date_gmt: '2013-03-17 15:35:29 +0100'
  content: '"Schauderhaft &Acirc;&raquo; Dependency Antipatterns &acirc;&euro;&ldquo;
    God Node" http://t.co/3HbkLS9bGM'
- id: 9593
  author: wernerkeil
  author_email: twitter.50013926@example.com
  author_url: http://twitter.com/wernerkeil
  date: '2013-03-17 21:22:08 +0100'
  date_gmt: '2013-03-17 19:22:08 +0100'
  content: 'http://t.co/LsP6YSBUy5 #Dependency #Antipatterns. @myfear
    thanks for that, curious to see how that goes with #JSR310?;-) a bad case of #Java'
- id: 9601
  author: OC_WIRE
  author_email: twitter.408387683@example.com
  author_url: http://twitter.com/OC_WIRE
  date: '2013-03-18 16:02:50 +0100'
  date_gmt: '2013-03-18 14:02:50 +0100'
  content: 'RT @oop_conference: Dependency Antipatterns &acirc;&euro;&ldquo; God Node:
    http://t.co/DBbjfqVs8h @jensschauder'
- id: 9617
  author: pintolaranja
  author_email: twitter.218985828@example.com
  author_url: http://twitter.com/pintolaranja
  date: '2013-03-19 02:00:33 +0100'
  date_gmt: '2013-03-19 00:00:33 +0100'
  content: '"Dependency Antipatterns &acirc;&euro;&ldquo; God Node"  http://t.co/uQfZaAw638
    good read'
- id: 9640
  author: jakubgarfield
  author_email: twitter.27216504@example.com
  author_url: http://twitter.com/jakubgarfield
  date: '2013-03-20 22:06:58 +0100'
  date_gmt: '2013-03-20 20:06:58 +0100'
  content: 'Schauderhaft &Acirc;&raquo; Dependency Antipatterns &acirc;&euro;&ldquo;
    God Node http://t.co/HbDaRQiUWE #codingdigest'
- id: 10338
  author: Dependency Management is Risk Management | Form Follows Function
  author_email: ''
  author_url: http://genehughson.wordpress.com/2013/04/08/dependency-management-is-risk-management/
  date: '2013-11-22 21:51:37 +0100'
  date_gmt: '2013-11-22 19:51:37 +0100'
  content: "[&#8230;] are all dependency management issues. For these types of dependencies,
    the anti-patterns tend to be well known, as are techniques for managing [&#8230;]"
- id: 78812
  author: Dependency Management is Risk Management | Iasa Global
  author_email: ''
  author_url: http://blog.iasaglobal.org/2014/05/27/dependency-management-is-risk-management/
  date: '2014-06-04 16:24:59 +0200'
  date_gmt: '2014-06-04 14:24:59 +0200'
  content: "[&#8230;] are all dependency management issues. For these types of dependencies,
    the anti-patterns tend to be well known, as are techniques for managing [&#8230;]"
---
<p><a href="/2013/02/24/introducing-degraph-for-visualizing-package-dependencies/">I wrote before</a> about the <a href="https://github.com/schauder/degraph">dependency analysis and visualization tool Degraph</a>. When you use such a tool to examine various projects you will find some patterns that stick out like a sore thumb. This is a first articles about such antipatterns, including my interpretation of what is going wrong and how to fix it.</p>
<p>I'm using the somewhat abstract term <strong>node</strong>, which might refer to a class, a package or even to a <strong>slice</strong> that you define, bundling classes according to some rule that you see fit. If you are confused by the terminology you might have a look at the <a href="https://github.com/schauder/degraph/wiki/Nomenclature">wiki page for Degraph, where I try to explain these terms</a>.</p>
<p><strong>God Node</strong></p>
<p>When you see a node in a dependency diagram that has tons of in and outgoing connections, you are looking at the death rays emitting from a god node. It does a lot of important things, that's why it depends on many other nodes. It also gets used by many things, which makes it even worse.</p>
<p><a href="/assets/wp/2013/03/godObject.png"><img class="alignnone size-medium wp-image-1351" alt="godObject" src="/assets/wp/2013/03/godObject.png" width="160" height="300" /></a></p>
<p>You want to extract stuff from that node! Why? Because when it does so many things and depends on so many things, it is very likely you</p>
<ol>
<li>can't properly test it</li>
<li>have to change it very often</li>
<li>thereby over and over creating new bugs, that go undetected by your automatic tests.</li><br />
</ol><br />
If this is a simple node, i.e. it doesn't represent at least a package or a class with inner classes, may the god class have mercy with your soul. Do some refactoring of that monster, until you can extract some classes. Prefer to extract classes that encapsulate some of the dependencies to other class. This image show how this looks like with the a new class represented by an orange octagon.</p>
<p><a href="/assets/wp/2013/03/godObjectDelegate.png"><img class="alignnone size-medium wp-image-1351" alt="God Object Delegate" src="/assets/wp/2013/03/godObjectDelegate.png" width="160" height="300" /></a></p>
<p>An alternative start is to extract interfaces and make other parts of the application depend only on the interfaces. This will move remove some dependencies from the God Node and spread them among the new interface nodes, as sketched in the following image, with the introduced interfaces represented by orange octagons.</p>
<p><a href="/assets/wp/2013/03/godObjectInterfaces.png"><img class="alignnone size-medium wp-image-1351" alt="God Object Interfaces" src="/assets/wp/2013/03/godObjectInterfaces.png" width="160" height="300" /></a></p>
<p>Note that</p>
<ol>
<li><span style="line-height: 13px;">Since the god node 'implements' the interface nodes it depends on them, not the other way round</span></li>
<li>Some third node has to inject the implementation (the god node) into the clients so it will have dependencies to both. This is basically what I described in an earlier article about <a href="http://blog.schauderhaft.de/2011/07/17/breaking-dependency-cylces/">how to break dependency cycles</a>.</li><br />
</ol><br />
If this is a compound node have a look inside. Often it already exhibits a structure of it own. Look at the upcoming posts about Dependency Antipatterns for stuff to look out for.</p>
<p>&nbsp;</p>
