<p>[caption id="attachment_296" align="alignleft" width="300" caption="Scale"]<img class="size-medium wp-image-296" title="875413_47541979" src="http:&#47;&#47;blog.schauderhaft.de&#47;wp-content&#47;uploads&#47;2009&#47;10&#47;875413_47541979-300x203.jpg" alt="875413_47541979" width="300" height="203" &#47;>[&#47;caption]</p>
<p>In a late blog post Stephan Schmidt vents his problems with hibernate and declares "<a href="http:&#47;&#47;codemonkeyism.com&#47;orms&#47;">ORMs are a thing of the past<&#47;a>"</p>
<p>I agree to some extend:<br />
- The SQL generated by Hibernate by default is horrible. Huge joins, with hundreds of columns, many unneeded.<br />
- Annotations feel like dirt in your code, and maintaining XML mappings is just painful.<br />
- LazyInitializationExceptions are a pain in the <span style="text-decoration: line-through;">a..<&#47;span> neck.</p>
<p>But does that justify the conclusion, that ORMs will go away in the near future? I don't think so. Of course my <a href="http:&#47;&#47;blog.schauderhaft.de&#47;2009&#47;09&#47;20&#47;your-perspective-is-biased&#47;">perspective is biased<&#47;a>, but in the applications I build I deal typically with 200-500 tables. Just typing the basic CRUD Statement, and wrapping them into usable objects is a pain, and a lot of work, which I gladly will hand over to an ORM.</p>
<p>Tracking changes in objects is another task, I gladly handover to an ORM.</p>
<p>Even writing annotations, while being far from perfect is better then most alternatives I know.</p>
<p>Implementing my own caching logic? No thanx. The ORM can do that pretty well.</p>
<p>I think the crucial point lies in Stephans last paragraph, where he sketches some ideas for alternatives. ORMs aren't bad in themselves. They are just difficult to get right. Hibernate did a great job. It is the first one to get wide spread usage. And most points mentioned above are a weakness in Hibernate (or JPA) or possibly Java. So my claim is: ORMs aren't dead, they aren't even grown up.</p>
<p>So what properties might a grown up ORM have?</p>
<ul>
<li>Usage of persistence independent annotations: The problem with annotations is: they don't belong in the business domain, where your classes live. They are part of the persistence layer, and should stay there. But when you look at the JPA annotations you'll find a lot that is pretty usefull in GUI context as well. For example the length of a field isn't only important for the database but for the GUI as well. Same for validations. So I'd think, in a couple years from now we'll have annotations (or other language features), that let us specify features of properties and references, which truely live in the domain world. And the ORMs will just utilize that information for 90% of their needs<&#47;li>
<li>When the references will have more information attached to them. E.g. if it is just a association, or an aggregation, or if the M in an 1:M relation is 'big'. And ORMs will use that to optimize there SQL.<&#47;li>
<li>The management of Sessions will move toward a declarative style, just as transactions did in the last decade.<&#47;li>
<li> RDBMS vendors will finally realize the power of ORMs, and will provide more efficient protocols for the ORMs to communicate with.<&#47;li>
<li> ORMs will monitor how they are used for a certain application, and will use that information to improve the SQL used.<&#47;li><br />
<&#47;ul><br />
But as so often, the most important change will be a people change: People will finally let databases drop into the background where they belong, and manage the schema through the ORM. I always wonder "Why?" when I hear people describe how the build a database first, and then map classes to the tables. That is the wrong way around: Build a strong domain model first. Let the ORM create a database schema for you from that. And then get someone with strong database knowledge involved to tweak it where necessary. This is when you start seriously gaining something for your struggle with the ORM. Most importantly: you get strong support for database refactorings.</p>
<p>If you want to read more about the whole ORM discussion, you might be interested in this article by <a href="http:&#47;&#47;debasishg.blogspot.com&#47;2009&#47;10&#47;are-orms-really-thing-of-past.html">Debasish Ghosh<&#47;a>.</p>
